(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{118:function(e,t){var r=new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR"});e.exports=r},493:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(58),c=r.n(o),i=r(26),s=r(19),l=r.n(s),d=r(25),u=r(13),b=(r(351),r(14)),j=r(639),h=r(633),x=r(638),p=Object(h.a)((function(){return Object(x.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),g=function(){return p(),null},O=r(95);O.Chart.helpers.extend(O.Chart.elements.Rectangle.prototype,{draw:function(){var e,t,r,n,a,o,c,i,s=this._chart.ctx,l=this._view,d=l.borderWidth,u=this._chart.config.options.cornerRadius;if(u<0&&(u=0),"undefined"===typeof u&&(u=0),l.horizontal?(e=l.base,t=l.x,r=l.y-l.height/2,n=l.y+l.height/2,a=t>e?1:-1,o=1,c=l.borderSkipped||"left"):(e=l.x-l.width/2,t=l.x+l.width/2,r=l.y,a=1,o=(n=l.base)>r?1:-1,c=l.borderSkipped||"bottom"),d){var b=Math.min(Math.abs(e-t),Math.abs(r-n)),j=(d=d>b?b:d)/2,h=e+("left"!==c?j*a:0),x=t+("right"!==c?-j*a:0),p=r+("top"!==c?j*o:0),g=n+("bottom"!==c?-j*o:0);h!==x&&(r=p,n=g),p!==g&&(e=h,t=x)}s.beginPath(),s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=d;var O=[[e,n],[e,r],[t,r],[t,n]],f=["bottom","left","top","right"].indexOf(c,0);function m(e){return O[(f+e)%4]}-1===f&&(f=0);var v=m(0);s.moveTo(v[0],v[1]);for(var y=1;y<4;y+=1){v=m(y);var w=y+1;4===w&&(w=0);var k=O[2][0]-O[1][0],C=O[0][1]-O[1][1],S=O[1][0],T=O[1][1];if((i=u)>Math.abs(C)/2&&(i=Math.floor(Math.abs(C)/2)),i>Math.abs(k)/2&&(i=Math.floor(Math.abs(k)/2)),C<0){var W=S,M=S+k,B=T+C,U=T+C,P=S,L=S+k,A=T,N=T;s.moveTo(P+i,A),s.lineTo(L-i,N),s.quadraticCurveTo(L,N,L,N-i),s.lineTo(M,U+i),s.quadraticCurveTo(M,U,M-i,U),s.lineTo(W+i,B),s.quadraticCurveTo(W,B,W,B+i),s.lineTo(P,A-i),s.quadraticCurveTo(P,A,P+i,A)}else if(k<0){var D=S+k,q=S,I=T,F=T,E=S+k,z=S,R=T+C,_=T+C;s.moveTo(E+i,R),s.lineTo(z-i,_),s.quadraticCurveTo(z,_,z,_-i),s.lineTo(q,F+i),s.quadraticCurveTo(q,F,q-i,F),s.lineTo(D+i,I),s.quadraticCurveTo(D,I,D,I+i),s.lineTo(E,R-i),s.quadraticCurveTo(E,R,E+i,R)}else s.moveTo(S+i,T),s.lineTo(S+k-i,T),s.quadraticCurveTo(S+k,T,S+k,T+i),s.lineTo(S+k,T+C-i),s.quadraticCurveTo(S+k,T+C,S+k-i,T+C),s.lineTo(S+i,T+C),s.quadraticCurveTo(S,T+C,S,T+C-i),s.lineTo(S,T+i),s.quadraticCurveTo(S,T,S+i,T)}s.fill(),d&&s.stroke()}});var f=r(338),m=r(23),v=["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],y={h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}},w=Object(f.a)({palette:{background:{default:"#F4F6F8",paper:m.a.common.white},primary:{contrastText:"#ffffff",main:"#5664d2"},text:{primary:"#172b4d",secondary:"#6b778c",error:"#e00b8b"}},shadows:v,typography:y}),k=r(6),C=r(5),S=r(16),T=r(128),W=r(502),M=r(504),B=r(463),U=r(497),P=r(505),L=r(496),A=r(326),N=r.n(A),D=r(324),q=r.n(D),I=r(325),F=r.n(I),E=r(1),z=function(e){return Object(E.jsx)("img",Object(S.a)({alt:"Logo",src:"/static/logo.svg"},e))},R=r(81),_=r.n(R),G=a.a.createContext(),H={storeUser:function(e){try{localStorage.setItem("user",e)}catch(t){console.error(t)}},getUser:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",JSON.parse(localStorage.getItem("user")));case 4:e.prev=4,e.t0=e.catch(0),console.error(e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(){return e.apply(this,arguments)}}(),removeUser:function(){try{localStorage.removeItem("user")}catch(e){console.error(e)}}},J=function(){var e=Object(n.useContext)(G),t=e.user,r=e.setUser;return{user:t,logIn:function(e){r(e),H.storeUser(JSON.stringify(e))},logOut:function(){r(null),H.removeUser()}}},V=function(e){var t=e.onMobileNavOpen,r=Object(T.a)(e,["onMobileNavOpen"]),a=Object(b.h)(),o=Object(n.useState)([]),c=Object(u.a)(o,1)[0],s=J().logOut,j=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.logout();case 3:s(),a("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)(W.a,Object(S.a)(Object(S.a)({elevation:0},r),{},{children:Object(E.jsxs)(M.a,{children:[Object(E.jsx)(i.b,{to:"/",children:Object(E.jsx)(z,{})}),Object(E.jsx)(B.a,{sx:{flexGrow:1}}),Object(E.jsxs)(U.a,{lgDown:!0,children:[Object(E.jsx)(P.a,{color:"inherit",children:Object(E.jsx)(L.a,{badgeContent:c.length,color:"primary",variant:"dot",children:Object(E.jsx)(q.a,{})})}),Object(E.jsx)(P.a,{color:"inherit",onClick:j,children:Object(E.jsx)(F.a,{})})]}),Object(E.jsx)(U.a,{lgUp:!0,children:Object(E.jsx)(P.a,{color:"inherit",onClick:t,children:Object(E.jsx)(N.a,{})})})]})}))},K=r(498),Z=r(508),Y=r(509),Q=r(510),X=r(507),$=r(511),ee=r(636),te=r(637),re=r(506),ne=function(e){var t=e.href,r=e.icon,n=e.title,a=Object(T.a)(e,["href","icon","title"]),o=Object(b.g)(),c=!!t&&!!Object(b.d)({path:t,end:!1},o.pathname);return Object(E.jsx)(re.a,Object(S.a)(Object(S.a)({disableGutters:!0,sx:{display:"flex",py:0}},a),{},{children:Object(E.jsxs)(X.a,{component:i.c,sx:Object(S.a)(Object(S.a)({color:"text.secondary",fontWeight:"medium",justifyContent:"flex-start",letterSpacing:0,py:1.25,textTransform:"none",width:"100%"},c&&{color:"primary.main"}),{},{"& svg":{mr:1}}),to:t,children:[r&&Object(E.jsx)(r,{size:"20"}),Object(E.jsx)("span",{children:n})]})}))},ae=[{href:"/app/dashboard",icon:ee.a,title:"Dashboard"},{href:"/app/settings",icon:te.a,title:"Settings"}],oe=function(e){var t=e.onMobileClose,r=e.openMobile,a=Object(b.h)(),o=Object(b.g)(),c=J(),s=c.user,u=c.logOut;Object(n.useEffect)((function(){r&&t&&t()}),[o.pathname]);var j=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.logout();case 3:u(),a("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),h=Object(E.jsxs)(B.a,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(E.jsxs)(B.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column",p:2},children:[Object(E.jsx)(K.a,{component:i.b,src:s.avatar,sx:{cursor:"pointer",width:64,height:64},to:"/app/account"}),Object(E.jsx)(Z.a,{color:"textPrimary",variant:"h5",children:s.firstname+" "+s.lastname}),Object(E.jsx)(Z.a,{color:"textSecondary",variant:"body2",children:s.accountID})]}),Object(E.jsx)(Y.a,{}),Object(E.jsx)(B.a,{sx:{p:2},children:Object(E.jsx)(Q.a,{children:ae.map((function(e){return Object(E.jsx)(ne,{href:e.href,title:e.title,icon:e.icon},e.title)}))})}),Object(E.jsx)(B.a,{sx:{flexGrow:1}}),Object(E.jsx)(B.a,{sx:{backgroundColor:"background.default",m:2,p:2},children:Object(E.jsx)(B.a,{sx:{display:"flex",justifyContent:"center",pt:2},children:Object(E.jsx)(X.a,{color:"primary",onClick:j,variant:"contained",children:"Logout"})})})]});return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(U.a,{lgUp:!0,children:Object(E.jsx)($.a,{anchor:"left",onClose:t,open:r,variant:"temporary",PaperProps:{sx:{width:256}},children:h})}),Object(E.jsx)(U.a,{lgDown:!0,children:Object(E.jsx)($.a,{anchor:"left",open:!0,variant:"persistent",PaperProps:{sx:{width:256,top:64,height:"calc(100% - 64px)"}},children:h})})]})};oe.defaultProps={onMobileClose:function(){},openMobile:!1};var ce=oe,ie=Object(C.a)("div")((function(e){return{backgroundColor:e.theme.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"}})),se=Object(C.a)("div")((function(e){var t=e.theme;return Object(k.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},t.breakpoints.up("lg"),{paddingLeft:256})})),le=Object(C.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),de=Object(C.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"}),ue=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),r=t[0],a=t[1];return Object(E.jsxs)(ie,{children:[Object(E.jsx)(V,{onMobileNavOpen:function(){return a(!0)}}),Object(E.jsx)(ce,{onMobileClose:function(){return a(!1)},openMobile:r}),Object(E.jsx)(se,{children:Object(E.jsx)(le,{children:Object(E.jsx)(de,{children:Object(E.jsx)(b.b,{})})})})]})},be=function(e){return Object(E.jsx)(W.a,Object(S.a)(Object(S.a)({elevation:0},e),{},{children:Object(E.jsx)(M.a,{sx:{height:64},children:Object(E.jsx)(i.b,{to:"/",children:Object(E.jsx)(z,{})})})}))},je=Object(C.a)("div")((function(e){return{backgroundColor:e.theme.palette.background.paper,display:"flex",height:"100%",overflow:"hidden",width:"100%"}})),he=Object(C.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64}),xe=Object(C.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),pe=Object(C.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"}),ge=function(){return Object(E.jsxs)(je,{children:[Object(E.jsx)(be,{}),Object(E.jsx)(he,{children:Object(E.jsx)(xe,{children:Object(E.jsx)(pe,{children:Object(E.jsx)(b.b,{})})})})]})},Oe=r(54),fe=r(522),me=r(514),ve=r(331),ye=r.n(ve),we=r(332),ke=r.n(we),Ce=r(330),Se=r.n(Ce),Te=r(512),We=r(513),Me=r(75),Be=r(77),Ue=r(118),Pe=r.n(Ue),Le=function(e){return Object(E.jsx)(Te.a,Object(S.a)(Object(S.a)({sx:{height:"100%"}},e),{},{children:Object(E.jsxs)(We.a,{children:[Object(E.jsxs)(me.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"},children:[Object(E.jsxs)(me.a,{item:!0,children:[Object(E.jsx)(Z.a,{color:"textSecondary",gutterBottom:!0,variant:"h6",children:e.description}),Object(E.jsx)(Z.a,{color:"textPrimary",variant:"h3",children:Pe.a.format(e.amount)})]}),Object(E.jsx)(me.a,{item:!0,children:Object(E.jsx)(K.a,{sx:{backgroundColor:Me.a[600],height:56,width:56},children:e.children})})]}),e.target&&Object(E.jsxs)(B.a,{sx:{pt:2,display:"flex",alignItems:"center"},children:[Object(E.jsxs)(Z.a,{sx:{color:Be.a[900],mr:1},variant:"body2",children:[parseInt(100*e.amount/e.target),"%"]}),Object(E.jsx)(Z.a,{color:"textSecondary",variant:"caption",children:e.targetDescription})]})]})}))},Ae=r(515),Ne=r(78),De=r(329),qe=r.n(De),Ie=function(e){return Object(E.jsx)(Te.a,Object(S.a)(Object(S.a)({sx:{height:"100%"}},e),{},{children:Object(E.jsxs)(We.a,{children:[Object(E.jsxs)(me.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"},children:[Object(E.jsxs)(me.a,{item:!0,children:[Object(E.jsx)(Z.a,{color:"textSecondary",gutterBottom:!0,variant:"h6",children:e.description}),Object(E.jsx)(Z.a,{color:"textPrimary",variant:"h3",children:e.percentage+" %"})]}),Object(E.jsx)(me.a,{item:!0,children:Object(E.jsx)(K.a,{sx:{backgroundColor:Ne.a[600],height:56,width:56},children:Object(E.jsx)(qe.a,{})})})]}),Object(E.jsx)(B.a,{sx:{pt:3},children:Object(E.jsx)(Ae.a,{value:e.percentage,variant:"determinate"})})]})}))},Fe=r(22),Ee=r(516),ze=function(e){var t=Object(Fe.a)(),r={animation:!1,cornerRadius:20,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{barThickness:12,maxBarThickness:10,barPercentage:.5,categoryPercentage:.5,ticks:{fontColor:t.palette.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:t.palette.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:t.palette.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:t.palette.divider}}]},tooltips:{backgroundColor:t.palette.background.paper,bodyFontColor:t.palette.text.secondary,borderColor:t.palette.divider,borderWidth:1,enabled:!0,footerFontColor:t.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:t.palette.text.primary}};return Object(E.jsxs)(Te.a,Object(S.a)(Object(S.a)({},e),{},{children:[Object(E.jsx)(Ee.a,{action:Object(E.jsx)(X.a,{size:"small",variant:"text",children:e.description}),title:e.title}),Object(E.jsx)(Y.a,{}),Object(E.jsx)(We.a,{children:Object(E.jsx)(B.a,{sx:{height:400,position:"relative"},children:Object(E.jsx)(O.Bar,{data:e.data,options:r})})}),Object(E.jsx)(Y.a,{})]}))},Re=r(119),_e=r.n(Re),Ge=r(517),He=r(518),Je=r(519),Ve=r(520),Ke=r(521),Ze=function(e){return Object(E.jsxs)(Te.a,Object(S.a)(Object(S.a)({},e),{},{children:[Object(E.jsx)(Ee.a,{title:e.title}),Object(E.jsx)(Y.a,{}),Object(E.jsx)(_e.a,{children:Object(E.jsx)(B.a,{sx:{minWidth:e.minWidth},children:Object(E.jsxs)(Ge.a,{children:[Object(E.jsx)(He.a,{children:Object(E.jsx)(Je.a,{children:e.headers.map((function(e){return Object(E.jsx)(Ve.a,{children:e})}))})}),Object(E.jsx)(Ke.a,{children:e.data.map((function(t){return Object(E.jsx)(Je.a,{hover:!0,children:Object.keys(t).map((function(e){return Object(E.jsx)(Ve.a,{children:t[e]})}))},t[e.headers[0]])}))})]})})})]}))},Ye=function(e){return Object(E.jsxs)(Te.a,Object(S.a)(Object(S.a)({},e),{},{children:[Object(E.jsx)(Ee.a,{title:e.title}),Object(E.jsx)(Y.a,{}),Object(E.jsx)(_e.a,{children:Object(E.jsx)(B.a,{sx:{minWidth:e.minWidth},children:Object(E.jsxs)(Ge.a,{children:[Object(E.jsx)(He.a,{children:Object(E.jsx)(Je.a,{children:e.headers.map((function(e){return Object(E.jsx)(Ve.a,{children:e})}))})}),Object(E.jsx)(Ke.a,{children:e.data.map((function(t){return Object(E.jsx)(Je.a,{hover:!0,children:Object.keys(t).map((function(e){return Object(E.jsx)(Ve.a,{children:t[e]})}))},t[e.headers[0]])}))})]})})})]}))},Qe=r(71),Xe=r.n(Qe),$e=function(){var e=J(),t=e.user,r=e.logOut,a=Object(b.h)(),o=Object(n.useState)({"Opening Balance":5e4,Contributions:0,"Closing Balance":0,SemesterContribution:0}),c=Object(u.a)(o,2),i=c[0],s=c[1],j=Object(n.useState)(null),h=Object(u.a)(j,2),x=h[0],p=h[1],g=Object(n.useState)([]),O=Object(u.a)(g,2),f=O[0],v=O[1],y=Object(n.useState)([]),w=Object(u.a)(y,2),k=w[0],C=w[1],S=Object(n.useState)([]),T=Object(u.a)(S,2),W=T[0],M=T[1],U=function(){try{r(),a("/login")}catch(e){}},P=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xe.a.getUserBalance();case 3:t=e.sent,s(t.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),U();case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xe.a.getUserContributions();case 3:t=e.sent,r=t.data,n=[],a=[],Object.keys(r).forEach((function(e){n.push(r[e].amount),a.push(r[e].target)})),o={datasets:[{backgroundColor:m.a.indigo[500],data:n,label:"Amount"},{backgroundColor:m.a.grey[200],data:a,label:"Target"}],labels:Object.keys(t.data)},p(o),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),U();case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xe.a.getUserDeposits();case 3:t=e.sent,M(t.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),U();case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xe.a.getAllMembersMonthlyContributions();case 3:t=e.sent,r=t.data.map((function(e){return{Month:e.Month,Amount:Pe.a.format(e.Amount)}})),n=Object.keys(r[0]),C(n),v(r),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),U();case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){P(),A(),L(),N()}),[]),t?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Oe.a,{children:Object(E.jsx)("title",{children:"Dashboard | Simunye"})}),Object(E.jsx)(B.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(E.jsx)(fe.a,{maxWidth:!1,children:Object(E.jsxs)(me.a,{container:!0,spacing:3,children:[Object(E.jsx)(me.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(E.jsx)(Le,{description:"TOTAL CONTRIBUTIONS",amount:i.Contributions,children:Object(E.jsx)(Se.a,{})})}),Object(E.jsx)(me.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(E.jsx)(Le,{description:"SEMESTER CONTRIBUTION",amount:i.SemesterContribution,target:i["Opening Balance"]/3/3,targetDescription:"Towards Semester Target",children:Object(E.jsx)(ye.a,{})})}),Object(E.jsx)(me.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(E.jsx)(Ie,{description:"GOAL",percentage:100*i.Contributions/i["Opening Balance"]})}),Object(E.jsx)(me.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(E.jsx)(Le,{description:"CLOSING BALANCE",amount:i["Closing Balance"],children:Object(E.jsx)(ke.a,{})})}),Object(E.jsx)(me.a,{item:!0,lg:8,md:12,xl:9,xs:12,children:x&&Object(E.jsx)(ze,{data:x,title:"Monthly Contributions Breakdown",description:"LAST ".concat((new Date).getMonth()+1," MONTH(S)")})}),Object(E.jsx)(me.a,{item:!0,lg:4,md:6,xl:3,xs:12,children:f.length>0&&Object(E.jsx)(Ze,{headers:k,data:f,title:"Group's Monthly Contributions",minWidth:200})}),Object(E.jsx)(me.a,{item:!0,lg:8,md:12,xl:9,xs:12,children:W.length>0&&Object(E.jsx)(Ye,{headers:Object.keys(W[0]),data:W,title:"My Deposits"})})]})})})]}):Object(E.jsx)(b.a,{to:"/login"})},et=r(523),tt=r(126),rt=r(45),nt=function(e){var t=Object(n.useState)({password:"",confirm:""}),r=Object(u.a)(t,2),a=r[0],o=(r[1],Object(n.useState)(!1)),c=Object(u.a)(o,2),i=c[0],s=c[1],b=Object(n.useState)(""),j=Object(u.a)(b,2),h=j[0],x=j[1],p=rt.a().shape({password:rt.c().min(6).required("This field is required"),confirm:rt.c().when("password",{is:function(e){return!!(e&&e.length>0)},then:rt.c().oneOf([rt.b("password")],"Both password need to be the same")})}),g=function(){var e=Object(d.a)(l.a.mark((function e(t){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.password,n=t.confirm,console.log("Submit",r,n),e.prev=2,e.next=5,Xe.a.changePassword(r);case 5:if(200===e.sent.status){e.next=8;break}throw new Error;case 8:x("Password changed"),s(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),x("Failed to change password"),s(!0);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(tt.a,{initialValues:a,validationSchema:p,onSubmit:g,children:function(t){var r=t.errors,n=(t.handleBlur,t.handleChange),a=t.handleSubmit,o=(t.isSubmitting,t.touched),c=t.values;return Object(E.jsx)("form",Object(S.a)(Object(S.a)({},e),{},{onSubmit:a,children:Object(E.jsxs)(Te.a,{children:[Object(E.jsx)(Ee.a,{subheader:"Update password",title:"Password"}),Object(E.jsx)(Y.a,{}),Object(E.jsxs)(We.a,{children:[Object(E.jsx)(et.a,{error:Boolean(o.password&&r.password),helperText:o.password&&r.password,fullWidth:!0,label:"Password",margin:"normal",name:"password",onChange:n,type:"password",value:c.password,variant:"outlined"}),Object(E.jsx)(et.a,{error:Boolean(o.confirm&&r.confirm),helperText:o.confirm&&r.confirm,fullWidth:!0,label:"Confirm password",margin:"normal",name:"confirm",onChange:n,type:"password",value:c.confirm,variant:"outlined"})]}),Object(E.jsx)(Y.a,{}),Object(E.jsx)(B.a,{display:i?"block":"none",children:Object(E.jsx)(Z.a,{color:"secondary",variant:"h6",children:h})}),Object(E.jsx)(B.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:Object(E.jsx)(X.a,{color:"primary",variant:"contained",type:"submit",children:"Update"})})]})}))}})},at=function(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Oe.a,{children:Object(E.jsx)("title",{children:"Settings"})}),Object(E.jsx)(B.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(E.jsx)(fe.a,{maxWidth:"lg",children:Object(E.jsx)(B.a,{sx:{pt:3},children:Object(E.jsx)(nt,{})})})})]})},ot=rt.a().shape({email:rt.c().required().email().label("Email"),password:rt.c().required().min(4).label("Password")}),ct=function(){var e=Object(b.h)(),t=J().logIn,r=Object(n.useState)(!1),a=Object(u.a)(r,2),o=a[0],c=a[1],i=function(){var r=Object(d.a)(l.a.mark((function r(n){var a,o,i;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=n.email,o=n.password,r.prev=1,r.next=4,_.a.login(a,o);case 4:if(200===(i=r.sent).status){r.next=7;break}return r.abrupt("return",c(!0));case 7:c(!1),t(i.data),e("/app/dashboard"),r.next=15;break;case 12:return r.prev=12,r.t0=r.catch(1),r.abrupt("return",c(!0));case 15:case"end":return r.stop()}}),r,null,[[1,12]])})));return function(e){return r.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Oe.a,{children:Object(E.jsx)("title",{children:"Login | Simunye"})}),Object(E.jsx)(B.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(E.jsx)(fe.a,{maxWidth:"sm",children:Object(E.jsx)(tt.a,{initialValues:{email:"user@simunye.africa",password:""},validationSchema:ot,onSubmit:i,children:function(e){var t=e.errors,r=e.handleBlur,n=e.handleChange,a=e.handleSubmit,c=e.isSubmitting,i=e.touched,s=e.values;return Object(E.jsxs)("form",{onSubmit:a,children:[Object(E.jsx)(B.a,{sx:{mb:3},children:Object(E.jsx)(Z.a,{color:"textPrimary",variant:"h2",children:"Sign in"})}),Object(E.jsx)(et.a,{error:Boolean(i.email&&t.email),fullWidth:!0,helperText:i.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:r,onChange:n,type:"email",value:s.email,variant:"outlined"}),Object(E.jsx)(et.a,{error:Boolean(i.password&&t.password),fullWidth:!0,helperText:i.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:r,onChange:n,type:"password",value:s.password,variant:"outlined"}),Object(E.jsx)(B.a,{display:o?"block":"none",children:Object(E.jsx)(Z.a,{color:"secondary",variant:"h6",children:"Invalid email and/or password"})}),Object(E.jsx)(B.a,{sx:{py:2},children:Object(E.jsx)(X.a,{color:"primary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Sign in now"})})]})}})})})]})},it=function(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Oe.a,{children:Object(E.jsx)("title",{children:"404 | Simunye"})}),Object(E.jsx)(B.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(E.jsxs)(fe.a,{maxWidth:"md",children:[Object(E.jsx)(Z.a,{align:"center",color:"textPrimary",variant:"h1",children:"404: The page you are looking for isn\u2019t here"}),Object(E.jsx)(Z.a,{align:"center",color:"textPrimary",variant:"subtitle2",children:"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"}),Object(E.jsx)(B.a,{sx:{textAlign:"center"},children:Object(E.jsx)("img",{alt:"Under development",src:"/static/images/undraw_page_not_found_su7k.svg",style:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}})})]})})]})},st=function(e){return[{path:"app",element:e?Object(E.jsx)(ue,{}):Object(E.jsx)(b.a,{to:"/login"}),children:[{path:"dashboard",element:Object(E.jsx)($e,{})},{path:"settings",element:Object(E.jsx)(at,{})},{path:"404",element:Object(E.jsx)(it,{})},{path:"*",element:Object(E.jsx)(b.a,{to:"/404"})}]},{path:"/",element:e?Object(E.jsx)(b.a,{to:"/app/dashboard"}):Object(E.jsx)(ge,{}),children:[{path:"login",element:Object(E.jsx)(ct,{})},{path:"404",element:Object(E.jsx)(it,{})},{path:"/",element:Object(E.jsx)(b.a,{to:"/login"})}]}]};var lt,dt=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),r=t[0],a=t[1],o=Object(n.useState)(!1),c=Object(u.a)(o,2),i=c[0],s=c[1];i||function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.getUser();case 3:(t=e.sent)&&a(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to get user");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()().then((function(){s(!0)}));var h=Object(b.j)(st(r));return Object(E.jsx)(j.a,{theme:w,children:Object(E.jsxs)(G.Provider,{value:{user:r,setUser:a},children:[Object(E.jsx)(g,{}),h]})})},ut=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function bt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var jt="BNrPK1ySlViikmonMH5pOUxx4639d3mGUNi3YgyaQOReonmanX-LNkVmN5ufgHNl6UBaq7PLkHIAj7KpHmiT_kc";console.log("app server",jt);var ht=!1,xt=null;function pt(){"denied"!==Notification.permission||gt(null)}function gt(e){var t=document.querySelector(".js-subscription-json"),r=document.querySelector(".js-subscription-details");e?(t.textContent=JSON.stringify(e),r.classList.remove("is-invisible")):r.classList.add("is-invisible")}var Ot=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,640)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),o(e),c(e)}))};c.a.render(Object(E.jsx)(i.a,{children:Object(E.jsx)(dt,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ut?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):bt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):bt(t,e)}))}"serviceWorker"in navigator&&"PushManager"in window?(console.log("Service Worker and Push is supported"),navigator.serviceWorker.register("".concat("","/service-worker.js")).then((function(e){console.log("Service Worker is registered",e),xt=e,window.addEventListener("load",(function(){(lt=document.querySelector("#js-push-btn"))&&lt.addEventListener("click",(function(){lt.disabled=!0,console.log("Cliked",ht),ht?xt.pushManager.getSubscription().then((function(e){if(e)return e.unsubscribe()})).catch((function(e){console.log("Error unsubscribing",e)})).then((function(){gt(null),console.log("User is unsubscribed."),ht=!1,pt()})):function(){var e=function(e){for(var t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),a=new Uint8Array(n.length),o=0;o<n.length;++o)a[o]=n.charCodeAt(o);return a}(jt);xt.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e}).then((function(e){console.log("User is subscribed."),gt(e),ht=!0,pt()})).catch((function(e){console.log("Failed to subscribe the user: ",e),pt()}))}()})),xt.pushManager.getSubscription().then((function(e){(ht=!(null===e))?console.log("User IS subscribed."):console.log("User is NOT subscribed."),pt()}))}))})).catch((function(e){console.error("Service Worker Error",e)}))):console.warn("Push messaging is not supported")}(),Ot()},71:function(e,t,r){var n=r(308).default;e.exports={getUser:function(){return n.get("/user")},getUserBalance:function(){return n.get("/user/balance")},getUserDeposits:function(){return n.get("/user/deposits")},getUserContributions:function(){return n.get("/user/contributions")},getAllMembersMonthlyContributions:function(){return n.get("/user/allcontributions")},changePassword:function(e){return n.post("/user/changepassword",{password:e})}}},81:function(e,t,r){var n=r(308);n.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&console.log("LogOut the user"),Promise.reject(e)}));e.exports={login:function(e,t){return n.post("/login",{email:e,password:t})},logout:function(){return n.get("/logout")}}}},[[493,1,2]]]);
//# sourceMappingURL=main.014deee1.chunk.js.map